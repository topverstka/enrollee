document.addEventListener("DOMContentLoaded",()=>{function e(e,t){"string"==typeof e&&(e=document.querySelectorAll(e));for(let n=0;n<e.length;n++){const l=e[n];l.classList.remove(t)}}function t(e){1==e?T.classList.add("_lock"):0==e&&T.classList.remove("_lock")}function n(e){function t(){for(let t=0;t<n.length;t++){let s=n[t];const o=s.getBoundingClientRect().top;o-l<=e&&(s.setAttribute("src",s.dataset.src))}}const n=document.querySelectorAll("[data-src]"),l=window.innerHeight;window.addEventListener("scroll",t),t()}function l(){let e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")}function s(){const e=document.querySelector(".header"),t=e.clientHeight;let n=!1;window.addEventListener("scroll",()=>{e.classList.contains("header_page-main")&&(n=!0),pageYOffset>200?(e.classList.add("_fixed"),T.style.paddingTop=t+"px",1==n&&e.classList.remove("header_page-main")):(e.classList.remove("_fixed"),T.style.paddingTop=0,1==n&&e.classList.add("header_page-main"))})}function o(){const e=document.querySelectorAll(".burger"),t=document.querySelector(".menu"),n=document.querySelector(".logo__link_light");for(let l=0;l<e.length;l++){const s=e[l];s.addEventListener("click",()=>{s.classList.toggle("_active"),t.classList.toggle("_show"),T.classList.toggle("_lock"),n&&n.classList.toggle("logo__link_light")})}}function c(){function e(){const e=l.querySelectorAll(".main-slide");for(let t=0;t<e.length;t++){const t=e[0],n=t.nextElementSibling,l=t.previousElementSibling;t.classList.add("slide_current"),n&&n.classList.add("slide_next"),l&&l.classList.add("slide_prev")}}function t(){const e=l.querySelector(".slide_current"),t=e.previousElementSibling,s=e.nextElementSibling,o=500;t&&t.classList.remove("slide_prev"),e.classList.add("_active"),setTimeout(()=>{e.classList.remove("_active"),e.classList.remove("slide_current"),e.classList.add("slide_prev")},o),s.classList.add("_active"),setTimeout(()=>{s.classList.remove("_active"),s.classList.remove("slide_next"),s.classList.add("slide_current")},o),s.nextElementSibling.classList.add("_active-prev"),setTimeout(()=>{s.nextElementSibling.classList.remove("_active-prev"),s.nextElementSibling.classList.add("slide_next")},o),n()}function n(){const e=document.querySelectorAll(".main-slide");if(e[2].classList.contains("slide_current")){const t=document.createElement("div");t.classList.add("main-slide","slider-slide"),t.innerHTML=e[0].innerHTML,l.append(t),e[0].remove()}}const l=document.querySelector(".main-slider-wrapper");e(),setInterval(()=>{t()},3e3)}function i(){new Cleave(".new-card__num",{creditCard:!0,onCreditCardTypeChanged:function(e){}});new Cleave(".new-card__date",{date:!0,datePattern:["m","y"]})}function r(){const e=document.querySelectorAll(".accordion__header"),t=document.querySelectorAll(".accordion__body");for(let e=0;e<t.length;e++){const n=t[e];n.style.maxHeight=0}for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",()=>{n.parentElement;const e=n.nextElementSibling;n.classList.toggle("_show"),n.classList.contains("_show")?e.style.maxHeight="none":e.style.maxHeight=0})}}function a(){const e=document.querySelector(".filter__more_mobile"),t=document.querySelector(".filter__body");e.addEventListener("click",()=>{e.classList.toggle("filter_show"),e.classList.contains("filter_show")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=0})}function d(){const e=document.querySelector(".filter__more"),t=e.querySelector(".filter__more-text"),n=document.querySelectorAll(".filter__select");e.addEventListener("click",()=>{e.classList.toggle("filter_show");for(let t=7;t<n.length;t++){const l=n[t];e.classList.contains("filter_show")?l.style.display="block":l.style.display="none"}e.classList.contains("filter_show")?t.innerHTML="Close":t.innerText="More"})}function u(){const t=document.querySelectorAll(".tabs-btn");for(let n=0;n<t.length;n++){const l=t[n];l.addEventListener("click",()=>{const t=l.dataset.tabsHeader,n=l.closest(".tabs"),s=n.querySelector(`[data-tabs-body="${t}"]`);e(n.querySelectorAll(".tabs__body"),"_active"),s.classList.add("_active"),e(n.querySelectorAll(".tabs-btn"),"_active"),l.classList.add("_active"),trackShowBullet=setInterval(()=>{s.querySelector(".swiper-pagination")&&(hiddenPaginationIfBulletAlone(),clearInterval(trackShowBullet))},100)})}}function _(){const e=document.querySelectorAll(".estim-like");for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",()=>{n.classList.toggle("_full")})}}function m(){function e(e){for(let t=0;t<e.length;t++)n.classList.remove(e[t])}const t=document.querySelector("#new-pass");if(!t)return!1;const n=document.querySelector("#pass-quality"),l=["_bad","_good","_perfect"];t.addEventListener("input",()=>{const s=t.value;0==s.length&&e(l),0!=s&&s.length<5&&(e(l),n.classList.add("_bad")),s.length>=5&&s.length<10&&(e(l),n.classList.add("_good")),s.length>=10&&s.length<15&&(e(l),n.classList.add("_perfect"))})}function g(){document.querySelector("#signup-form-step-1")}function f(){const e=document.querySelector("#signup-form");if(!e)return!1;e.addEventListener("submit",async e=>{e.preventDefault();let t=!0;if(!0===t){formData=new FormData;const e=document.querySelector(".signup__checkbox-input[checked]").value;formData.append("who",e);let t=await fetch("#",{method:"POST",body:formData});t.ok?console.log(await t.text()):console.error("Error",await t.text())}})}function y(){const e=document.querySelectorAll(".signup__checkbox-list-lang .signup__checkbox");if(0==e.length)return!1;const t=document.querySelector(".signup__lang-more");let n=!0;t.addEventListener("click",l=>{l.preventDefault();for(let l=5;l<e.length;l++){const s=e[l];!0===n&&(s.style.display="block",t.classList.add("_show")),!1===n&&(s.style.display="none",t.classList.remove("_show"))}!0===n?n=!1:!1===n&&(n=!0)})}function p(){const t=document.querySelectorAll(".advisor-content__block-change"),n=document.querySelectorAll(".advisor-message");for(let l=0;l<t.length;l++){const s=t[l];s.addEventListener("click",()=>{const l=s.dataset.advisorChange,o=document.querySelectorAll(`[data-advisor-message="${l}"]`);e(t,"_active"),s.classList.add("_active"),e(n,"_show");for(let e=0;e<o.length;e++){const t=o[e];t.classList.add("_show")}})}}function v(){const e=document.querySelectorAll('input[type="range"]');for(let t=0;t<e.length;t++){const n=e[t],l=n.nextElementSibling;n.addEventListener("input",()=>{l.value=n.value}),l.addEventListener("input",()=>{n.value=l.value})}}function h(){const t=document.querySelectorAll(".star-rating-change");for(let n=0;n<t.length;n++){const l=t[n],s=l.querySelectorAll("span"),o=l.querySelector(".star-rating-change__input");for(let t=0;t<s.length;t++){const n=s[t];n.addEventListener("click",()=>{e(s,"rating-card__star_full");for(let e=s.length-1;e>=t;e--){const t=s[e];t.classList.add("rating-card__star_full")}o.value=t+1})}}}function L(){function e(e){if(e.preventDefault(),""==!s.value){const e=o.querySelector(".add-tag__tag").getAttribute("class").split(" "),t=document.createElement("div");for(let n of e)t.classList.add(n);t.innerHTML=`\n                    <input class="signup-help__tag-input" type="checkbox" checked>\n                    <span class="signup-help__tag-text">${s.value}</span>\n                `,o.append(t)}else t()}function t(){if(!document.querySelector(".signup-help__add-textarea-error")){const e=document.querySelector(".signup-help__add-textarea"),t=document.createElement("span");t.classList.add("signup-help__add-textarea-error"),t.innerText="Поле не должно быть пустым";const n=e.insertBefore(t,document.querySelector(".signup-help__add-textarea-btn").nextSibling);setTimeout(()=>{n.remove()},2e3)}}const n=document.querySelector(".add-tag__button"),l=document.querySelector(".add-tag__textarea-block"),s=l.querySelector("textarea"),o=document.querySelector(".add-tag__tag-list");n.addEventListener("click",e),document.addEventListener("keydown",function(t){"Enter"===t.key&&e(t)})}function S(){function e(e){if(e.preventDefault(),""==!l.value){const e=document.createElement("a");e.setAttribute("href","#"),e.classList.add("student-about__list-item"),e.innerHTML=l.value,s.insertBefore(e,s.querySelector(".student-about__list-item-delete")),l.value="",0==!s.querySelectorAll(".student-about__list-item").length&&(o.style.display="block")}else valueNotEmpty()}const t=document.querySelector(".add-tag__button"),n=document.querySelector(".add-tag__textarea-block"),l=n.querySelector("textarea"),s=document.querySelector(".student-profile-how__list"),o=document.querySelector(".student-about__list-item-delete");t.addEventListener("click",e),document.addEventListener("keydown",function(t){"Enter"===t.key&&e(t)}),s.addEventListener("click",e=>{const n=e.target;if(n.classList.contains("student-about__list-item-delete")){const e=s.querySelectorAll(".student-about__list-item");0==e.length?(o.classList.remove("_active"),o.innerText="Delete",o.style.display="none"):o.style.display="block";for(let n=0;n<e.length;n++){const s=e[n];s.classList.contains("_tag-delete")?(s.classList.remove("_tag-delete"),o.classList.remove("_active"),o.innerText="Delete",t.classList.remove("_disabled"),l.style.pointerEvents="all"):(s.classList.add("_tag-delete"),o.classList.add("_active"),o.innerText="Done",t.classList.add("_disabled"),l.style.pointerEvents="none")}}n.classList.contains("student-about__list-item")&&n.classList.contains("_tag-delete")&&(e.preventDefault(),n.remove(),0==s.querySelectorAll(".student-about__list-item").length&&(o.classList.remove("_active"),o.innerText="Delete",o.style.display="none"))})}function w(){function e(e){const t=document.querySelectorAll(".multiselect__item._selected");if(0==t.length)e.innerText="";else{let n="Выбрано: ";for(let e=0;e<t.length;e++){const l=t[e],s=l.innerText;0!=e&&(n+=", "),n+=s}e.innerText=n}}const t=document.querySelectorAll(".multiselect");for(let n=0;n<t.length;n++){const l=t[n],s=l.querySelector(".multiselect__header"),o=l.querySelector(".multiselect__body"),c=l.querySelector(".multiselect__selected"),i=o.querySelectorAll(".multiselect__item");l.addEventListener("click",()=>{s.classList.toggle("_show")});for(let t=0;t<i.length;t++){const n=i[t];n.addEventListener("click",()=>{n.classList.toggle("_selected"),e(c)})}}}function q(){if(window.location.hash){const e=window.location.hash.substring(1),n=document.querySelector(`.modal-more#${e}`);n&&(n.classList.add("_show"),t(!0),A(`#${e} .modal__content`,n))}}function b(){const e=document.querySelectorAll(".modal-more");for(let n=0;n<e.length;n++){const l=e[n],s=l.querySelector(".modal__close");s.addEventListener("click",()=>{l.classList.remove("_show"),t(!1),x()})}}function k(){const e=document.querySelectorAll(".modal-more");for(let n=0;n<e.length;n++){const l=e[n];document.addEventListener("keydown",function(e){"Escape"===e.key&&(l.classList.remove("_show"),t(!1),x())})}}function x(){const e=window.pageYOffset;window.location.hash="",window.scrollTo(0,e)}function E(){const e=document.querySelectorAll("[data-modal-open]");for(let n=0;n<e.length;n++){const l=e[n];l.addEventListener("click",e=>{const n=l.dataset.modalOpen,s=document.querySelector(`#${n}`);l.classList.add("modal-show"),s.classList.add("_show"),t(!0),A(`#${n} .modal__content`,s),window.location.hash=n})}}function A(e,n,l="_show"){document.addEventListener("click",s=>{let o=document.querySelectorAll(e);for(let e=0;e<o.length;e++){const c=o[e],i=s.target,r=i==c||c.contains(i),a=c.classList.contains(l);if(n){const e=i==n||n.contains(i),s=n.classList.contains(l);!r&&e&&s&&(n.classList.remove(l),T.classList.contains("_lock")&&t(!1),window.location.hash==="#"+n.getAttribute("id")&&x())}else!r&&a&&(c.classList.remove(l),T.classList.contains("_lock")&&t(!1),window.location.hash==="#"+n.getAttribute("id")&&x())}})}const T=document.querySelector("body");n(0),window.onload=function(){let e=document.querySelectorAll("[data-bg]");for(let t=0;t<e.length;t++){let n=e[t].getAttribute("data-bg");e[t].style.backgroundImage="url("+n+")"}let t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),n=t?parseInt(t[1]):0;if(l()||n>=65){let e=document.querySelectorAll("[data-bg-webp]");for(let t=0;t<e.length;t++){let n=e[t].getAttribute("data-bg-webp");e[t].style.backgroundImage="url("+n+")"}}},s(),o(),document.querySelector(".main-slider")&&c(),document.querySelector(".new-card")&&i();new Swiper(".popular__slider",{slidesPerView:1.4,spaceBetween:10,loop:!0,centeredSlides:!0,breakpoints:{345:{slidesPerView:1.5,centeredSlides:!0},450:{slidesPerView:2,centeredSlides:!0},670:{slidesPerView:3,centeredSlides:!0},900:{slidesPerView:4},1200:{slidesPerView:5}},navigation:{nextEl:".popular__slider-arrow_next",prevEl:".popular__slider-arrow_prev"}}),new Swiper(".students-section-slider",{slidesPerView:1.2,spaceBetween:12,centeredSlides:!1,loop:!0,speed:5e3,autoplay:{delay:0},breakpoints:{360:{slidesPerView:1.5,spaceBetween:16},450:{slidesPerView:2},670:{slidesPerView:3,centeredSlides:!0},900:{slidesPerView:3},1200:{slidesPerView:4}}}),new Swiper(".univers__slider",{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:".univers__slider-pagination",clickable:!0}});r(),document.querySelector(".filter__more_mobile")&&a(),document.querySelector(".filter__more")&&d(),u(),_(),m(),g(),f(),y(),p(),v(),h(),document.querySelector(".add-tag__tag-list")&&L(),document.querySelector(".student-profile-how__list")&&S(),w(),q(),b(),k(),E()});